# User Domain - Authentication & Preferences

type User {
  id: ID!
  email: String!
  name: String
  avatar: String
  preferences: UserPreferences!
  createdAt: String!
  updatedAt: String!
}

type UserPreferences {
  notifications: NotificationPreferences!
  reader: ReaderPreferences!
}

type NotificationPreferences {
  email: Boolean!
  push: Boolean!
  maxPerDay: Int!
}

type ReaderPreferences {
  imageWidth: ImageWidth!
  spacing: Int!
  theme: Theme!
}

# Enums
enum ImageWidth {
  FIT
  FULL
}

enum Theme {
  LIGHT
  DARK
  AUTO
}

# Inputs
input CreateUserInput {
  email: String!
  name: String
  avatar: String
  preferences: UserPreferencesInput
}

input UpdateUserInput {
  name: String
  avatar: String
  preferences: UserPreferencesInput
}

input UserPreferencesInput {
  notifications: NotificationPreferencesInput
  reader: ReaderPreferencesInput
}

input NotificationPreferencesInput {
  email: Boolean
  push: Boolean
  maxPerDay: Int
}

input ReaderPreferencesInput {
  imageWidth: ImageWidth
  spacing: Int
  theme: Theme
}

# Queries
extend type Query {
  user(id: ID!): User
  users(limit: Int, offset: Int): [User!]!
  getProfile: User!
}

# Mutations
extend type Mutation {
  createUser(input: CreateUserInput!): User!
  updateUser(id: ID!, input: UpdateUserInput!): User!
  deleteUser(id: ID!): Boolean!
  updatePreferences(input: UserPreferencesInput!): User!
}
